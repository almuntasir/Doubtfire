<div class="task-feedback-assessor">
  <div class="panel panel-default" ng-hide="task">
    <div class="panel-heading">
      <h3 class="panel-title">
        Task Details
      </h3>
    </div>
    <div class="panel-body large-notice-block nothing-selected" ng-hide="task">
      <i class="fa fa-tasks"></i>
      <p>Select a task to view its status in detail</p>
    </div>
  </div>
  <div class="panel panel-default" ng-if="task">
    <div class="panel-heading" ng-show="task.definition.upload_requirements.length > 0">
      <a class="pull-right" ng-click="viewOptions.showPdf = !viewOptions.showPdf"><i ng-show="viewOptions.showPdf" class="fa fa-2x fa-chevron-circle-down"></i><i ng-hide="viewOptions.showPdf" class="fa fa-2x fa-chevron-circle-up"></i></a>
      <h3 class="panel-title">
        Task Submission
      </h3>
    </div>
    <div class="panel-body large-notice-block" ng-show="viewOptions.showPdf && (!task.has_pdf) && task.definition.upload_requirements.length > 0 ">
        <i class="fa fa-file-pdf-o fa-2x"></i>
        <p>No submission PDF available.</p>
    </div>
    <task-submission-viewer ng-show="viewOptions.showPdf && (task.has_pdf || task.needsSubmissionDetails())" project="task.project()" task="task"></task-submission-viewer>
    <div class="panel-heading">
      <a class="pull-right" ng-click="viewOptions.showComments = !viewOptions.showComments"><i ng-show="viewOptions.showComments" class="fa fa-2x fa-chevron-circle-down"></i><i ng-hide="viewOptions.showComments" class="fa fa-2x fa-chevron-circle-up"></i></a>
      <h3 class="panel-title">
        Task Comments
      </h3>
    </div>
    <task-comments-viewer project="task.project()" task="task" comment="comment" ng-show="viewOptions.showComments"></task-comments-viewer>

    <div class="panel-heading">
      <a class="pull-right" ng-click="viewOptions.showClassify = !viewOptions.showClassify"><i ng-show="viewOptions.showClassify" class="fa fa-2x fa-chevron-circle-down"></i><i ng-hide="viewOptions.showClassify" class="fa fa-2x fa-chevron-circle-up"></i></a>
      <h3 class="panel-title">
        Update Task Status
      </h3>
    </div>
    <div class="panel-body" ng-show="viewOptions.showClassify">
      <task-status-selector
        task="task"
        assessing-unit-role="assessingUnitRole"
        in-menu="false"
        trigger-transition="triggerTransition"
        ></task-status-selector>
    </div>
  </div>
</div>
